<div class="container-fluid">
	<app-page-title title="Nouveau Livreur" [breadcrumbItems]="breadCrumbItems"></app-page-title>

	<div class="row">
		<div class="col-12">
			<div class="card">
				<div class="card-body">
					<form [formGroup]="form" (ngSubmit)="submit()" novalidate>
						<div class="row g-3">
											<div class="col-md-6">
												<label class="form-label" for="name">Nom</label>
												<input id="name" class="form-control" formControlName="name" placeholder="Nom complet">
											</div>
											<div class="col-md-6">
												<label class="form-label" for="displayName">Nom d'affichage</label>
												<input id="displayName" class="form-control" formControlName="displayName" placeholder="Affiché dans l'UI">
											</div>

											<div class="col-md-6">
												<label class="form-label" for="phone">Téléphone</label>
												<input id="phone" class="form-control" formControlName="phone" placeholder="Tél">
											</div>
											<div class="col-md-6">
												<label class="form-label" for="email">Email</label>
												<input id="email" class="form-control" formControlName="email" placeholder="email@exemple.com">
											</div>

											<div class="col-md-6">
												<label class="form-label" for="vehicle">Véhicule</label>
												<input id="vehicle" class="form-control" formControlName="vehicle" placeholder="Ex: 123 تونس 4567">
											</div>
											<div class="col-md-6">
												<label class="form-label" for="cin">CIN</label>
												<input id="cin" class="form-control" formControlName="cin" placeholder="Numéro CIN">
											</div>

							<div class="col-12">
								<label class="form-label" for="zones">Villes desservies</label>
								<ng-select id="zones"
										   [items]="cities"
										   [multiple]="true"
										   [closeOnSelect]="false"
										   bindLabel=""
										   placeholder="Choisir des villes"
										   formControlName="zones">
								</ng-select>
								<div class="form-text">Choisissez une ou plusieurs villes de Tunisie.</div>
							</div>

							<div class="col-12">
								<div class="form-check form-switch">
									<input class="form-check-input" type="checkbox" id="activeSwitch" formControlName="active">
									<label class="form-check-label" for="activeSwitch">Actif</label>
								</div>
							</div>

							<div class="col-12">
								<div class="form-check form-switch">
									<input class="form-check-input" type="checkbox" id="createAccountSwitch" formControlName="createAccount">
									<label class="form-check-label" for="createAccountSwitch">Créer un compte utilisateur</label>
								</div>
								<div class="form-text">Un compte utilisateur permettra au livreur de se connecter à l'application mobile.</div>
								<div class="form-text text-warning" *ngIf="f['createAccount'].value">
									⚠️ L'email est requis pour créer un compte utilisateur.
								</div>
							</div>
						</div>

						<div class="text-end mt-4">
							<a class="btn btn-light me-2" [routerLink]="['/megafast/drivers']">Annuler</a>
											<button class="btn btn-primary" type="submit" [disabled]="form.invalid || saving">
												<span *ngIf="saving" class="spinner-border spinner-border-sm me-2" aria-live="polite"></span>
								Enregistrer
							</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>
